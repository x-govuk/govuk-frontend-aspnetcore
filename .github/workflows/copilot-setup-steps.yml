name: "Copilot Setup Steps"

on:
  workflow_dispatch:

jobs:
  copilot-setup-steps:
    runs-on: ubuntu-latest

    permissions:
      contents: read

    env:
      COPILOT_AGENT_FIREWALL_ALLOW_LIST_ADDITIONS: vsblob.vsassets.io,data.jsdelivr.com

    steps:
      - uses: actions/checkout@v6

      - uses: jdx/mise-action@v3

      - name: Install tools
        run: just install-tools

      - name: Restore
        run: just restore

      - name: Install Playwright
        run: just install-playwright
